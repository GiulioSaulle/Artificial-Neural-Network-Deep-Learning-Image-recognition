import numpy as np

# Array containing the indices of not leaf images
remove_troll = [58,95,137,138,171,207,338,412,434,486,506,529,571,599,622,658,692,701,723,725,753,779,783,827,840,880,898,901,961,971,974,989,1028,1044,1064,1065,1101,1149,1172,1190,1191,1265,1268,1280,1333,1384,1443,1466,1483,1528,1541,1554,1594,1609,1630,1651,1690,1697,1752,1757,1759,1806,1828,1866,1903,1938,1939,1977,1981,1988,2022,2081,2090,2150,2191,2192,2198,2261,2311,2328,2348,2380,2426,2435,2451,2453,2487,2496,2515,2564,2581,2593,2596,2663,2665,2675,2676,2727,2734,2736,2755,2779,2796,2800,2830,2831,2839,2864,2866,2889,2913,2929,2937,3033,3049,3055,3086,3105,3108,3144,3155,3286,3376,3410,3436,3451,3488,3490,3572,3583,3666,3688,3700,3740,3770,3800,3801,3802,3806,3811,3821,3835,3862,3885,3896,3899,3904,3927,3931,3946,3950,3964,3988,3989,4049,4055,4097,4100,4118,4144,4150,4282,4310,4314,4316,4368,4411,4475,4476,4503,4507,4557,4605,4618,4694,4719,4735,4740,4766,4779,4837,4848,4857,4860,4883,4897,4903,4907,4927,5048,5080,5082,5121,5143,5165,5171]

# Loading the dataset
dataset = np.load('public_data.npz', allow_pickle=True)

# Removing the not leaf images and labels 
dataset_cleanup_img = np.delete(dataset['data'], remove_troll, axis=0)
dataset_cleanup_lbl = np.delete(dataset['labels'], remove_troll, axis=0)

# Creating the .npz file
np.savez_compressed('public_data_cleanup.npz', data=dataset_cleanup_img, labels=dataset_cleanup_lbl)